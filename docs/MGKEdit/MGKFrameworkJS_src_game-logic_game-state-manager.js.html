<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: MGKFrameworkJS/src/game-logic/game-state-manager.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: MGKFrameworkJS/src/game-logic/game-state-manager.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";
/** @module game-logic */
Object.defineProperty(exports, "__esModule", { value: true });
exports.StateManager = void 0;
//#endregion
/**
 *
 *
 * @export
 * @class StateManager
 */
class StateManager {
    //#endregion
    /**
     * Creates an instance of StateManager.
     * @param {string} statePath
     * @memberof StateManager
     */
    constructor(statePath) {
        this.states = new Map();
        this.stateDir = statePath;
    }
    //#endregion
    //#region Properties
    /**
     *
     *
     * @readonly
     * @memberof StateManager
     */
    get count() {
        return this.states.size;
    }
    //#region Accessors
    /**
     *
     *
     * @template T
     * @param {string} name
     * @return {*}  {(T | null)}
     * @memberof StateManager
     */
    GetByName(name) {
        try {
            if (!this.states.has(name)) {
                console.error("StateManager: GetByName() -> Could not get state [" + name + "]! A state with that name does not exist.");
                return null;
            }
            return this.states.get(name);
        }
        catch (err) {
            console.error("StateManager: GetByName() -> Could not get state [" + name + "]!\n" +
                "### ERROR:\n" + err);
            return null;
        }
    }
    /**
     *
     *
     * @template T
     * @param {string} type
     * @return {*}  {(T[] | null)}
     * @memberof StateManager
     */
    GetArrayByType(type) {
        try {
            let sts = new Array();
            this.states.forEach(st => {
                sts.push(st);
            });
            return sts;
        }
        catch (err) {
            console.error("StateManager: GetArrayByType() -> Could not get any states of type &lt;" + type + ">!\n" +
                "### ERROR:\n" + err);
            return null;
        }
    }
    /**
     *
     *
     * @template T
     * @param {string} name
     * @return {*}  {(T | null)}
     * @memberof StateManager
     */
    GetActiveByName(name) {
        try {
            if (!this.activeStates.has(name)) {
                console.error("StateManager: GetActiveByName() -> Could not get active state [" + name + "]! A state with that name is not active.");
                return null;
            }
            return this.activeStates.get(name);
        }
        catch (err) {
            console.error("StateManager: GetActiveByName() -> Could not get active state [" + name + "]!\n" +
                "### ERROR:\n" + err);
            return null;
        }
    }
    /**
     *
     *
     * @template T
     * @param {string} type
     * @return {*}  {(T[] | null)}
     * @memberof StateManager
     */
    GetActiveArrayByType(type) {
        try {
            let sts = new Array();
            this.activeStates.forEach(st => {
                sts.push(st);
            });
            return sts;
        }
        catch (err) {
            console.error("StateManager: GetActiveArrayByType() -> Could not get any active states of type &lt;" + type + ">!\n" +
                "### ERROR:\n" + err);
            return null;
        }
    }
    //#endregion
    //#region CRUD Ops
    /**
     *
     *
     * @param {string} name
     * @param {string} type
     * @return {*}  {string}
     * @memberof StateManager
     */
    Create(name, type) {
        try {
            if (this.states.has(name)) {
                console.error("StateManager: Create() -> Could not create state [" + name + "] of type &lt;" + this.states.get(name).type + ">!\n" +
                    "A state with that name already exists. Expected type was &lt;" + type + ">.");
                return JSON.stringify({ stateName: name, code: "exists" });
            }
            let state;
            try {
                state = require(this.stateDir + "/" + type + ".js");
            }
            catch (err) {
                try {
                    state = require(__dirname + "/../game-state/" + type + ".js");
                }
                catch (err2) {
                    console.error("{\n" +
                        "    {\n" +
                        "        ### ERROR 1:\n" +
                        "        " + err + "\n" +
                        "        ### ERROR 2:\n" +
                        "        " + err2 + "\n" +
                        "    }\n" +
                        "}");
                }
            }
            this.states.set(name, state.Create(name));
            return JSON.stringify({ stateName: name, code: "created" });
        }
        catch (err) {
            console.error("StateManager: Create() -> Could not create state [" + name + "] of type &lt;" + type + ">!\n" +
                "Ensure you did not mistype the string for the &lt;type> parameter. Also make sure the state type being referenced \n" +
                "exists under './game-states/*.ts' and not in a different folder as well as not in a subfolder.\n" +
                "### ERROR:\n" + err);
            return JSON.stringify({ stateName: name, code: "error" });
        }
    }
    /**
     *
     *
     * @param {IGameState} state
     * @return {*}  {boolean}
     * @memberof StateManager
     */
    Add(state) {
        try {
            if (this.states.has(state.name) === true) {
                console.error("StateManager: Add() -> Could not add state [" + state.name + "] of type &lt;" + state.type + ">!\n" +
                    "A state with that name already exists.");
                return false;
            }
            this.states.set(state.name, state);
            return true;
        }
        catch (err) {
            console.error("StateManager: Add() -> Could not add state [" + state.name + "] of type &lt;" + state.type + ">!\n" +
                "### ERROR:\n" + err);
            return false;
        }
    }
    /**
     *
     *
     * @param {string} name
     * @return {*}  {boolean}
     * @memberof StateManager
     */
    Remove(name) {
        try {
            if (!this.states.has(name)) {
                console.error("StateManager: Remove() -> Could not remove state [" + name + "]!\n" +
                    "A state with that name does not exist.");
                return false;
            }
            return this.states.delete(name);
        }
        catch (err) {
            console.error("StateManager: Remove() -> Could not remove state [" + name + "]!\n" +
                "### ERROR:\n" + err);
            return false;
        }
    }
    /**
     *
     *
     * @return {*}  {void}
     * @memberof StateManager
     */
    Clear() {
        if (this.states.size > 0) {
            this.states.clear();
            return;
        }
        console.warn("StateManager: Remove() -> No states to clear! I'm empty!");
    }
    /**
     *
     *
     * @memberof StateManager
     */
    ClearActive() {
        if (this.activeStates.size > 0) {
            let st = this.activeStates.clear();
        }
    }
    //#endregion
    //#region Game State Manipulation Methods
    /**
     *
     *
     * @param {string} name
     * @return {*}  {boolean}
     * @memberof StateManager
     */
    Activate(name) {
        try {
            if (this.states.has(name) === false) {
                console.error("StateManager: Activate() -> Could not activate state [" + name + "] because the state does not exist!\n");
                return false;
            }
            if (this.activeStates.has(name) === true) {
                console.error("StateManager: Activate() -> Could not activate state [" + name + "] because it is already active!\n");
                return false;
            }
            this.activeStates.set(name, this.states.get(name));
        }
        catch (err) {
            console.error("StateManager: Activate() -> Could not activate state [" + name + "]!\n" +
                "### ERROR:\n" + err);
            return false;
        }
    }
    /**
     *
     *
     * @param {string} name
     * @return {*}  {boolean}
     * @memberof StateManager
     */
    Deactivate(name) {
        try {
            if (this.states.has(name) === false) {
                console.warn("StateManager: Deactivate() -> Deactivating state [" + name + "] while state does not exist!\n");
                return false;
            }
            if (this.activeStates.has(name) === false) {
                console.error("StateManager: Deactivate() -> Could not deactivate state [" + name + "] because it is not active!\n");
                return false;
            }
            this.activeStates.delete(name);
        }
        catch (err) {
            console.error("StateManager: Deactivate() -> Could not deactivate state [" + name + "]!\n" +
                "### ERROR:\n" + err);
            return false;
        }
    }
    //#endregion
    //#region Control Methods
    /**
     *
     *
     * @memberof StateManager
     */
    Init() {
        if (this.activeStates.size > 0) {
            this.activeStates.forEach(st => {
                if (st.VIsReInit() === true) {
                    if (!st.VInit()) {
                        console.error("StateManager: Init() -> could not initialize state [" + st.name + "] of type &lt;" + st.type + ">!");
                    }
                }
            });
        }
    }
    /**
     *
     *
     * @memberof StateManager
     */
    Update() {
        if (this.activeStates.size > 0) {
            this.activeStates.forEach(st => {
                try {
                    // If updating is supposed to be manual...
                    if (st.autoUpdate === false) {
                        // ...Skip this state.
                        return;
                    }
                    if (st.VIsInitialized()) {
                        st.VUpdate();
                    }
                }
                catch (err) {
                    console.error("StateManager: Update() -> could not update state [" + st.name + "] of type &lt;" + st.type + ">!\n" +
                        "### ERROR:\n" + err);
                }
            });
        }
    }
    /**
     *
     *
     * @memberof StateManager
     */
    Shutdown() {
        if (this.activeStates.size > 0) {
            this.activeStates.forEach(st => {
                try {
                    if (st.VShutdownRequested() === true) {
                        st.VShutdown();
                    }
                }
                catch (err) {
                    console.error("StateManager: Shutdown() -> could not shutdown state [" + st.name + "] of type &lt;" + st.type + ">!\n" +
                        "### ERROR:\n" + err);
                }
            });
        }
    }
}
exports.StateManager = StateManager;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS1zdGF0ZS1tYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6Ikc6L1dvcmtzcGFjZXMvTUdLRWRpdC8uLi8iLCJzb3VyY2VzIjpbIk1HS0ZyYW1ld29ya0pTL3NyYy9nYW1lLWxvZ2ljL2dhbWUtc3RhdGUtbWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEseUJBQXlCOzs7QUFJekIsWUFBWTtBQUVaOzs7OztHQUtHO0FBQ0gsTUFBYSxZQUFZO0lBb0NyQixZQUFZO0lBRVo7Ozs7T0FJRztJQUNILFlBQVksU0FBaUI7UUFDekIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBc0IsQ0FBQztRQUM1QyxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQztJQUM5QixDQUFDO0lBdEJELFlBQVk7SUFFWixvQkFBb0I7SUFDcEI7Ozs7O09BS0c7SUFDSCxJQUFXLEtBQUs7UUFDWixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFhRCxtQkFBbUI7SUFDbkI7Ozs7Ozs7T0FPRztJQUNJLFNBQVMsQ0FBSSxJQUFZO1FBQzVCLElBQUk7WUFDQSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ3hCLE9BQU8sQ0FBQyxLQUFLLENBQUMsb0RBQW9ELEdBQUcsSUFBSSxHQUFHLDJDQUEyQyxDQUFDLENBQUM7Z0JBQ3pILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7WUFFRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBaUIsQ0FBQztTQUNoRDtRQUFDLE9BQU8sR0FBRyxFQUFFO1lBQ1YsT0FBTyxDQUFDLEtBQUssQ0FBQyxvREFBb0QsR0FBRyxJQUFJLEdBQUcsTUFBTTtnQkFDbEYsY0FBYyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQ3RCLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7SUFDTCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJ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Q0FBQyxVQUFVLEtBQUssS0FBSyxFQUFFO3dCQUN6QixzQkFBc0I7d0JBQ3RCLE9BQU87cUJBQ1Y7b0JBRUQsSUFBSSxFQUFFLENBQUMsY0FBYyxFQUFFLEVBQUU7d0JBQ3JCLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztxQkFDaEI7aUJBQ0o7Z0JBQUMsT0FBTyxHQUFHLEVBQUU7b0JBQ1YsT0FBTyxDQUFDLEtBQUssQ0FBQyxvREFBb0QsR0FBRyxFQUFFLENBQUMsSUFBSSxHQUFHLGFBQWEsR0FBRyxFQUFFLENBQUMsSUFBSSxHQUFHLE1BQU07d0JBQy9HLGNBQWMsR0FBRyxHQUFHLENBQUMsQ0FBQztpQkFDekI7WUFDTCxDQUFDLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQztJQUVEOzs7O09BSUc7SUFDSSxRQUFRO1FBQ1gsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUU7WUFDNUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUU7Z0JBQzNCLElBQUk7b0JBQ0EsSUFBSSxFQUFFLENBQUMsa0JBQWtCLEVBQUUsS0FBSyxJQUFJLEVBQUU7d0JBQ2xDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztxQkFDbEI7aUJBQ0o7Z0JBQUMsT0FBTyxHQUFHLEVBQUU7b0JBQ1YsT0FBTyxDQUFDLEtBQUssQ0FBQyx3REFBd0QsR0FBRyxFQUFFLENBQUMsSUFBSSxHQUFHLGFBQWEsR0FBRyxFQUFFLENBQUMsSUFBSSxHQUFHLE1BQU07d0JBQ25ILGNBQWMsR0FBRyxHQUFHLENBQUMsQ0FBQztpQkFDekI7WUFDTCxDQUFDLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQztDQUVKO0FBallELG9DQWlZQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAbW9kdWxlIGdhbWUtbG9naWMgKi9cclxuXHJcbi8vI3JlZ2lvbiBJbXBvcnRzXHJcbmltcG9ydCB7IElHYW1lU3RhdGUgfSBmcm9tIFwiLi9nYW1lLXN0YXRlLWludGVyZmFjZVwiO1xyXG4vLyNlbmRyZWdpb25cclxuXHJcbi8qKlxyXG4gKlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBTdGF0ZU1hbmFnZXJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdGF0ZU1hbmFnZXIge1xyXG4gICAgLy8jcmVnaW9uIEZpZWxkc1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAdHlwZSB7TWFwPHN0cmluZywgSUdhbWVTdGF0ZT59XHJcbiAgICAgKiBAbWVtYmVyb2YgU3RhdGVNYW5hZ2VyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGVzOiBNYXA8c3RyaW5nLCBJR2FtZVN0YXRlPjtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxyXG4gICAgICogQG1lbWJlcm9mIFN0YXRlTWFuYWdlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGVEaXI6IHN0cmluZztcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7TWFwPHN0cmluZywgSUdhbWVTdGF0ZT59XHJcbiAgICAgKiBAbWVtYmVyb2YgU3RhdGVNYW5hZ2VyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhY3RpdmVTdGF0ZXM6IE1hcDxzdHJpbmcsIElHYW1lU3RhdGU+O1xyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIFByb3BlcnRpZXNcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqIEBtZW1iZXJvZiBTdGF0ZU1hbmFnZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBjb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXMuc2l6ZTtcclxuICAgIH1cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBTdGF0ZU1hbmFnZXIuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhdGVQYXRoXHJcbiAgICAgKiBAbWVtYmVyb2YgU3RhdGVNYW5hZ2VyXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHN0YXRlUGF0aDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBuZXcgTWFwPHN0cmluZywgSUdhbWVTdGF0ZT4oKTtcclxuICAgICAgICB0aGlzLnN0YXRlRGlyID0gc3RhdGVQYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI3JlZ2lvbiBBY2Nlc3NvcnNcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAdGVtcGxhdGUgVFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuICAgICAqIEByZXR1cm4geyp9ICB7KFQgfCBudWxsKX1cclxuICAgICAqIEBtZW1iZXJvZiBTdGF0ZU1hbmFnZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIEdldEJ5TmFtZTxUPihuYW1lOiBzdHJpbmcpOiBUIHwgbnVsbCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdGF0ZU1hbmFnZXI6IEdldEJ5TmFtZSgpIC0+IENvdWxkIG5vdCBnZXQgc3RhdGUgW1wiICsgbmFtZSArIFwiXSEgQSBzdGF0ZSB3aXRoIHRoYXQgbmFtZSBkb2VzIG5vdCBleGlzdC5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVzLmdldChuYW1lKSBhcyB1bmtub3duIGFzIFQ7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdGF0ZU1hbmFnZXI6IEdldEJ5TmFtZSgpIC0+IENvdWxkIG5vdCBnZXQgc3RhdGUgW1wiICsgbmFtZSArIFwiXSFcXG5cIiArIFxyXG4gICAgICAgICAgICBcIiMjIyBFUlJPUjpcXG5cIiArIGVycik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQHRlbXBsYXRlIFRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXHJcbiAgICAgKiBAcmV0dXJuIHsqfSAgeyhUW10gfCBudWxsKX1cclxuICAgICAqIEBtZW1iZXJvZiBTdGF0ZU1hbmFnZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIEdldEFycmF5QnlUeXBlPFQ+KHR5cGU6IHN0cmluZyk6IFRbXSB8IG51bGwge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBzdHM6IFRbXSA9IG5ldyBBcnJheTxUPigpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlcy5mb3JFYWNoKHN0ID0+IHtcclxuICAgICAgICAgICAgICAgIHN0cy5wdXNoKHN0IGFzIHVua25vd24gYXMgVCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHN0cztcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlN0YXRlTWFuYWdlcjogR2V0QXJyYXlCeVR5cGUoKSAtPiBDb3VsZCBub3QgZ2V0IGFueSBzdGF0ZXMgb2YgdHlwZSA8XCIgKyB0eXBlICsgXCI+IVxcblwiICsgXHJcbiAgICAgICAgICAgIFwiIyMjIEVSUk9SOlxcblwiICsgZXJyKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAdGVtcGxhdGUgVFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuICAgICAqIEByZXR1cm4geyp9ICB7KFQgfCBudWxsKX1cclxuICAgICAqIEBtZW1iZXJvZiBTdGF0ZU1hbmFnZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIEdldEFjdGl2ZUJ5TmFtZTxUPihuYW1lOiBzdHJpbmcpOiBUIHwgbnVsbCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZVN0YXRlcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdGF0ZU1hbmFnZXI6IEdldEFjdGl2ZUJ5TmFtZSgpIC0+IENvdWxkIG5vdCBnZXQgYWN0aXZlIHN0YXRlIFtcIiArIG5hbWUgKyBcIl0hIEEgc3RhdGUgd2l0aCB0aGF0IG5hbWUgaXMgbm90IGFjdGl2ZS5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU3RhdGVzLmdldChuYW1lKSBhcyB1bmtub3duIGFzIFQ7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdGF0ZU1hbmFnZXI6IEdldEFjdGl2ZUJ5TmFtZSgpIC0+IENvdWxkIG5vdCBnZXQgYWN0aXZlIHN0YXRlIFtcIiArIG5hbWUgKyBcIl0hXFxuXCIgKyBcclxuICAgICAgICAgICAgXCIjIyMgRVJST1I6XFxuXCIgKyBlcnIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIEB0ZW1wbGF0ZSBUXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxyXG4gICAgICogQHJldHVybiB7Kn0gIHsoVFtdIHwgbnVsbCl9XHJcbiAgICAgKiBAbWVtYmVyb2YgU3RhdGVNYW5hZ2VyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBHZXRBY3RpdmVBcnJheUJ5VHlwZTxUPih0eXBlOiBzdHJpbmcpOiBUW10gfCBudWxsIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgc3RzOiBUW10gPSBuZXcgQXJyYXk8VD4oKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZXMuZm9yRWFjaChzdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBzdHMucHVzaChzdCBhcyB1bmtub3duIGFzIFQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzdHM7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdGF0ZU1hbmFnZXI6IEdldEFjdGl2ZUFycmF5QnlUeXBlKCkgLT4gQ291bGQgbm90IGdldCBhbnkgYWN0aXZlIHN0YXRlcyBvZiB0eXBlIDxcIiArIHR5cGUgKyBcIj4hXFxuXCIgKyBcclxuICAgICAgICAgICAgXCIjIyMgRVJST1I6XFxuXCIgKyBlcnIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gQ1JVRCBPcHNcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcclxuICAgICAqIEByZXR1cm4geyp9ICB7c3RyaW5nfVxyXG4gICAgICogQG1lbWJlcm9mIFN0YXRlTWFuYWdlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgQ3JlYXRlKG5hbWU6IHN0cmluZywgdHlwZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZXMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU3RhdGVNYW5hZ2VyOiBDcmVhdGUoKSAtPiBDb3VsZCBub3QgY3JlYXRlIHN0YXRlIFtcIiArIG5hbWUgKyBcIl0gb2YgdHlwZSA8XCIgKyB0aGlzLnN0YXRlcy5nZXQobmFtZSkudHlwZSArIFwiPiFcXG5cIiArIFxyXG4gICAgICAgICAgICAgICAgXCJBIHN0YXRlIHdpdGggdGhhdCBuYW1lIGFscmVhZHkgZXhpc3RzLiBFeHBlY3RlZCB0eXBlIHdhcyA8XCIgKyB0eXBlICsgXCI+LlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IHN0YXRlTmFtZTogbmFtZSwgY29kZTogXCJleGlzdHNcIiB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHN0YXRlOiBhbnk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSByZXF1aXJlKHRoaXMuc3RhdGVEaXIgKyBcIi9cIiArIHR5cGUgKyBcIi5qc1wiKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gcmVxdWlyZShfX2Rpcm5hbWUgKyBcIi8uLi9nYW1lLXN0YXRlL1wiICsgdHlwZSArIFwiLmpzXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ7XFxuXCIgKyBcclxuICAgICAgICAgICAgICAgICAgICBcIiAgICB7XFxuXCIgKyBcclxuICAgICAgICAgICAgICAgICAgICBcIiAgICAgICAgIyMjIEVSUk9SIDE6XFxuXCIgKyBcclxuICAgICAgICAgICAgICAgICAgICBcIiAgICAgICAgXCIgKyBlcnIgKyBcIlxcblwiICsgXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgICAgICAgICMjIyBFUlJPUiAyOlxcblwiICsgXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgICAgICAgIFwiICsgZXJyMiArIFwiXFxuXCIgKyBcclxuICAgICAgICAgICAgICAgICAgICBcIiAgICB9XFxuXCIgKyBcclxuICAgICAgICAgICAgICAgICAgICBcIn1cIlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVzLnNldChuYW1lLCBzdGF0ZS5DcmVhdGUobmFtZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyBzdGF0ZU5hbWU6IG5hbWUsIGNvZGU6IFwiY3JlYXRlZFwiIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU3RhdGVNYW5hZ2VyOiBDcmVhdGUoKSAtPiBDb3VsZCBub3QgY3JlYXRlIHN0YXRlIFtcIiArIG5hbWUgKyBcIl0gb2YgdHlwZSA8XCIgKyB0eXBlICsgXCI+IVxcblwiICsgXHJcbiAgICAgICAgICAgIFwiRW5zdXJlIHlvdSBkaWQgbm90IG1pc3R5cGUgdGhlIHN0cmluZyBmb3IgdGhlIDx0eXBlPiBwYXJhbWV0ZXIuIEFsc28gbWFrZSBzdXJlIHRoZSBzdGF0ZSB0eXBlIGJlaW5nIHJlZmVyZW5jZWQgXFxuXCIgKyBcclxuICAgICAgICAgICAgXCJleGlzdHMgdW5kZXIgJy4vZ2FtZS1zdGF0ZXMvKi50cycgYW5kIG5vdCBpbiBhIGRpZmZlcmVudCBmb2xkZXIgYXMgd2VsbCBhcyBub3QgaW4gYSBzdWJmb2xkZXIuXFxuXCIgKyBcclxuICAgICAgICAgICAgXCIjIyMgRVJST1I6XFxuXCIgKyBlcnIpO1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyBzdGF0ZU5hbWU6IG5hbWUsIGNvZGU6IFwiZXJyb3JcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7SUdhbWVTdGF0ZX0gc3RhdGVcclxuICAgICAqIEByZXR1cm4geyp9ICB7Ym9vbGVhbn1cclxuICAgICAqIEBtZW1iZXJvZiBTdGF0ZU1hbmFnZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIEFkZChzdGF0ZTogSUdhbWVTdGF0ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlcy5oYXMoc3RhdGUubmFtZSkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdGF0ZU1hbmFnZXI6IEFkZCgpIC0+IENvdWxkIG5vdCBhZGQgc3RhdGUgW1wiICsgc3RhdGUubmFtZSArIFwiXSBvZiB0eXBlIDxcIiArIHN0YXRlLnR5cGUgKyBcIj4hXFxuXCIgKyBcclxuICAgICAgICAgICAgICAgIFwiQSBzdGF0ZSB3aXRoIHRoYXQgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVzLnNldChzdGF0ZS5uYW1lLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU3RhdGVNYW5hZ2VyOiBBZGQoKSAtPiBDb3VsZCBub3QgYWRkIHN0YXRlIFtcIiArIHN0YXRlLm5hbWUgKyBcIl0gb2YgdHlwZSA8XCIgKyBzdGF0ZS50eXBlICsgXCI+IVxcblwiICsgXHJcbiAgICAgICAgICAgIFwiIyMjIEVSUk9SOlxcblwiICsgZXJyKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuICAgICAqIEByZXR1cm4geyp9ICB7Ym9vbGVhbn1cclxuICAgICAqIEBtZW1iZXJvZiBTdGF0ZU1hbmFnZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIFJlbW92ZShuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGVzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlN0YXRlTWFuYWdlcjogUmVtb3ZlKCkgLT4gQ291bGQgbm90IHJlbW92ZSBzdGF0ZSBbXCIgKyBuYW1lICsgXCJdIVxcblwiICsgXHJcbiAgICAgICAgICAgICAgICBcIkEgc3RhdGUgd2l0aCB0aGF0IG5hbWUgZG9lcyBub3QgZXhpc3QuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXMuZGVsZXRlKG5hbWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU3RhdGVNYW5hZ2VyOiBSZW1vdmUoKSAtPiBDb3VsZCBub3QgcmVtb3ZlIHN0YXRlIFtcIiArIG5hbWUgKyBcIl0hXFxuXCIgKyBcclxuICAgICAgICAgICAgXCIjIyMgRVJST1I6XFxuXCIgKyBlcnIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHsqfSAge3ZvaWR9XHJcbiAgICAgKiBAbWVtYmVyb2YgU3RhdGVNYW5hZ2VyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBDbGVhcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZXMuc2l6ZSA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZXMuY2xlYXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiU3RhdGVNYW5hZ2VyOiBSZW1vdmUoKSAtPiBObyBzdGF0ZXMgdG8gY2xlYXIhIEknbSBlbXB0eSFcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJvZiBTdGF0ZU1hbmFnZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIENsZWFyQWN0aXZlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0YXRlcy5zaXplID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgc3QgPSB0aGlzLmFjdGl2ZVN0YXRlcy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vI3JlZ2lvbiBHYW1lIFN0YXRlIE1hbmlwdWxhdGlvbiBNZXRob2RzXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuICAgICAqIEByZXR1cm4geyp9ICB7Ym9vbGVhbn1cclxuICAgICAqIEBtZW1iZXJvZiBTdGF0ZU1hbmFnZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIEFjdGl2YXRlKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlcy5oYXMobmFtZSkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU3RhdGVNYW5hZ2VyOiBBY3RpdmF0ZSgpIC0+IENvdWxkIG5vdCBhY3RpdmF0ZSBzdGF0ZSBbXCIgKyBuYW1lICsgXCJdIGJlY2F1c2UgdGhlIHN0YXRlIGRvZXMgbm90IGV4aXN0IVxcblwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVzLmhhcyhuYW1lKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlN0YXRlTWFuYWdlcjogQWN0aXZhdGUoKSAtPiBDb3VsZCBub3QgYWN0aXZhdGUgc3RhdGUgW1wiICsgbmFtZSArIFwiXSBiZWNhdXNlIGl0IGlzIGFscmVhZHkgYWN0aXZlIVxcblwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZXMuc2V0KG5hbWUsIHRoaXMuc3RhdGVzLmdldChuYW1lKSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdGF0ZU1hbmFnZXI6IEFjdGl2YXRlKCkgLT4gQ291bGQgbm90IGFjdGl2YXRlIHN0YXRlIFtcIiArIG5hbWUgKyBcIl0hXFxuXCIgKyBcclxuICAgICAgICAgICAgXCIjIyMgRVJST1I6XFxuXCIgKyBlcnIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxyXG4gICAgICogQHJldHVybiB7Kn0gIHtib29sZWFufVxyXG4gICAgICogQG1lbWJlcm9mIFN0YXRlTWFuYWdlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgRGVhY3RpdmF0ZShuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZXMuaGFzKG5hbWUpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiU3RhdGVNYW5hZ2VyOiBEZWFjdGl2YXRlKCkgLT4gRGVhY3RpdmF0aW5nIHN0YXRlIFtcIiArIG5hbWUgKyBcIl0gd2hpbGUgc3RhdGUgZG9lcyBub3QgZXhpc3QhXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZXMuaGFzKG5hbWUpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlN0YXRlTWFuYWdlcjogRGVhY3RpdmF0ZSgpIC0+IENvdWxkIG5vdCBkZWFjdGl2YXRlIHN0YXRlIFtcIiArIG5hbWUgKyBcIl0gYmVjYXVzZSBpdCBpcyBub3QgYWN0aXZlIVxcblwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZXMuZGVsZXRlKG5hbWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU3RhdGVNYW5hZ2VyOiBEZWFjdGl2YXRlKCkgLT4gQ291bGQgbm90IGRlYWN0aXZhdGUgc3RhdGUgW1wiICsgbmFtZSArIFwiXSFcXG5cIiArIFxyXG4gICAgICAgICAgICBcIiMjIyBFUlJPUjpcXG5cIiArIGVycik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gQ29udHJvbCBNZXRob2RzXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlcm9mIFN0YXRlTWFuYWdlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgSW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZXMuc2l6ZSA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZXMuZm9yRWFjaChzdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3QuVklzUmVJbml0KCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0LlZJbml0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlN0YXRlTWFuYWdlcjogSW5pdCgpIC0+IGNvdWxkIG5vdCBpbml0aWFsaXplIHN0YXRlIFtcIiArIHN0Lm5hbWUgKyBcIl0gb2YgdHlwZSA8XCIgKyBzdC50eXBlICsgXCI+IVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlcm9mIFN0YXRlTWFuYWdlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0YXRlcy5zaXplID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlcy5mb3JFYWNoKHN0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdXBkYXRpbmcgaXMgc3VwcG9zZWQgdG8gYmUgbWFudWFsLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0LmF1dG9VcGRhdGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLlNraXAgdGhpcyBzdGF0ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3QuVklzSW5pdGlhbGl6ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdC5WVXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlN0YXRlTWFuYWdlcjogVXBkYXRlKCkgLT4gY291bGQgbm90IHVwZGF0ZSBzdGF0ZSBbXCIgKyBzdC5uYW1lICsgXCJdIG9mIHR5cGUgPFwiICsgc3QudHlwZSArIFwiPiFcXG5cIiArIFxyXG4gICAgICAgICAgICAgICAgICAgIFwiIyMjIEVSUk9SOlxcblwiICsgZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyb2YgU3RhdGVNYW5hZ2VyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBTaHV0ZG93bigpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZXMuc2l6ZSA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZXMuZm9yRWFjaChzdCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdC5WU2h1dGRvd25SZXF1ZXN0ZWQoKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdC5WU2h1dGRvd24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU3RhdGVNYW5hZ2VyOiBTaHV0ZG93bigpIC0+IGNvdWxkIG5vdCBzaHV0ZG93biBzdGF0ZSBbXCIgKyBzdC5uYW1lICsgXCJdIG9mIHR5cGUgPFwiICsgc3QudHlwZSArIFwiPiFcXG5cIiArIFxyXG4gICAgICAgICAgICAgICAgICAgIFwiIyMjIEVSUk9SOlxcblwiICsgZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8jZW5kcmVnaW9uXHJcbn0iXX0=</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-actors.html">actors</a></li><li><a href="module-components.html">components</a></li><li><a href="module-components_types.html">components/types</a></li><li><a href="module-editor.html">editor</a></li><li><a href="module-editor-logic.html">editor-logic</a></li><li><a href="module-game.html">game</a></li><li><a href="module-game-logic.html">game-logic</a></li><li><a href="module-game-views.html">game-views</a></li><li><a href="module-game-views_types.html">game-views/types</a></li><li><a href="module-main.html">main</a></li><li><a href="module-system.html">system</a></li></ul><h3>Classes</h3><ul><li><a href="ActorFactory.ActorFactory.html">ActorFactory</a></li><li><a href="BaseGameLogic.BaseGameLogic.html">BaseGameLogic</a></li><li><a href="Component.Component.html">Component</a></li><li><a href="ComponentManager.ComponentManager.html">ComponentManager</a></li><li><a href="GameCore.GameCore.html">GameCore</a></li><li><a href="HumanView.HumanView.html">HumanView</a></li><li><a href="MGKEdit.MGKEdit.html">MGKEdit</a></li><li><a href="MGKEditLogic.MGKEditLogic.html">MGKEditLogic</a></li><li><a href="module-actors-ActorFactory.html">ActorFactory</a></li><li><a href="module-components_types-Renderer.html">Renderer</a></li><li><a href="module-components-Component.html">Component</a></li><li><a href="module-components-ComponentManager.html">ComponentManager</a></li><li><a href="module-editor-logic-MGKEditLogic.html">MGKEditLogic</a></li><li><a href="module-editor-MGKEdit.html">MGKEdit</a></li><li><a href="module-game-logic-BaseGameLogic.html">BaseGameLogic</a></li><li><a href="module-game-logic-StateManager.html">StateManager</a></li><li><a href="module-game-views_types-HumanView.html">HumanView</a></li><li><a href="module-game-views-ViewManager.html">ViewManager</a></li><li><a href="module-game-GameCore.html">GameCore</a></li><li><a href="module-system-SystemDialog.html">SystemDialog</a></li><li><a href="Renderer.Renderer.html">Renderer</a></li><li><a href="StateManager.StateManager.html">StateManager</a></li><li><a href="SystemDialog.SystemDialog.html">SystemDialog</a></li><li><a href="ViewManager.ViewManager.html">ViewManager</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sat Oct 17 2020 07:15:34 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
